<!--æå‡ºç”¨-->

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ¬ãƒˆãƒ­ãªæ©Ÿæ¢°ã®DJã‚ãã³</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f0f0f0;
      padding: 20px;
    }
    table {
      margin: 20px auto;
      border-collapse: collapse;
    }
    td, th {
      padding: 8px;
    }
    input[type="checkbox"] {
      width: 20px;
      height: 20px;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 1.2em;
    }
    th {
      background: #ccc;
    }

    .image-container {
  position: relative;
  display: inline-block;
}

.tooltip {
  position: absolute;
  bottom: 100%; /* ç”»åƒã®ä¸Šå´ã«è¡¨ç¤º */
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.8);
  color: #fff;
  padding: 6px 10px;
  border-radius: 6px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
  display: none;
}

/* å¹ãå‡ºã—ã®çŸ¢å° */
.tooltip::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: rgba(0, 0, 0, 0.8) transparent transparent transparent;
}

/* è¡¨ç¤ºç”¨ã‚¯ãƒ©ã‚¹ */
.tooltip.show {
  opacity: 1;
  pointer-events: auto;
  display: block;
}

  button {
    padding: 5px 10px;
    margin-left: 5px;
    background-color: #eee;
    border: 1px solid #aaa;
    cursor: pointer;
  }
  button:hover {
    background-color: #ddd;
  }

  .keyboard-wrapper {
  display: flex;
  justify-content: center;
  margin-top: 40px;
}

#keyboard {
  position: relative;
  height: 200px;
  width: 420px;
}


    .white-key, .black-key {
      position: absolute;
      border: 1px solid #000;
      box-sizing: border-box;
      text-align: center;
      font-family: sans-serif;
      cursor: pointer;
      user-select: none;
    }

    .white-key {
      width: 40px;
      height: 200px;
      background: white;
      z-index: 1;
    }

    .black-key {
      width: 24px;
      height: 120px;
      background: black;
      color: white;
      z-index: 2;
      top: 0px; /* ç™½éµã®ä¸Šè¾ºã«æ¥ã™ã‚‹ */
    }

    .key-label {
      position: absolute;
      bottom: 4px; /* ã‚­ãƒ¼ã®ä¸‹ã«è¡¨ç¤º */
      width: 100%;
      font-size: 12px;
    }

    .pressed {
      background: #ff9999 !important;
    }
 

 


  </style>
</head>
<body>

<img src="images/ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´.png" alt="ğŸŸ© ãƒ¬ãƒˆãƒ­ãªæ©Ÿæ¢°ã®DJã‚ãã³ ğŸµ" width="300" height="150">

<table>
  <tr>
    <th>éŸ³</th>
    <th colspan="8">æ‹</th>
  </tr>
  <tr>
    <!--<td><img src="ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼.png" width="80" height="80" alt="ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼"></td> -->

    <!--<td>
        <img src="ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼.png" width="80" height="80" alt="ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼" id="typewriter">
        <p id="description" style="display:none; margin:0;">ã“ã‚Œã¯ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼ã®ç”»åƒã§ã™ã€‚</p>
      </td>  -->

    
    <td class="image-container">
        <img src="images/ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼.png" alt="ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼" width="80" height="80" class="popup-image" data-sound="taip">
        <div class="tooltip">ã€Œã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼ã€<br>æ´»èºï¼š1930ï½50å¹´ä»£<br>ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ‰“éµã™ã‚‹ã“ã¨ã§<br>æ´»å­—ã‚’ç´™ã«æ‰“ã¡ä»˜ã‘<br>æ–‡å­—ã‚„è¨˜å·ã‚’å°å­—ã™ã‚‹æ©Ÿæ¢°</div>
    </td>      
      

    <td colspan="8">
      <input type="checkbox" id="taip0">
      <input type="checkbox" id="taip1">
      <input type="checkbox" id="taip2">
      <input type="checkbox" id="taip3">
      <input type="checkbox" id="taip4">
      <input type="checkbox" id="taip5">
      <input type="checkbox" id="taip6">
      <input type="checkbox" id="taip7">
    </td>
    <td>
      <button onclick="clearInstrument('taip')">è§£é™¤</button>
    </td>
  </tr>
  <tr>
    <!--<td><img src="é»’é›»è©±.png" width="80" height="80" alt="é»’é›»è©±"></td> -->

    <td class="image-container">
        <img src="images/é»’é›»è©±.png" alt="é»’é›»è©±" width="80" height="80" class="popup-image" data-sound="kuro">
        <div class="tooltip">ã€Œé»’é›»è©±ã€<br>æ´»èºï¼š1950ï½70å¹´ä»£<br>çœŸã£é»’ãªãƒœãƒ‡ã‚£ãŒç‰¹å¾´ã®<br>ãƒ€ã‚¤ãƒ¤ãƒ«å¼é›»è©±æ©Ÿ</div>
    </td>
    <td colspan="8">
      <input type="checkbox" id="kuro0">
      <input type="checkbox" id="kuro1">
      <input type="checkbox" id="kuro2">
      <input type="checkbox" id="kuro3">
      <input type="checkbox" id="kuro4">
      <input type="checkbox" id="kuro5">
      <input type="checkbox" id="kuro6">
      <input type="checkbox" id="kuro7">
    </td>
    <td>
      <button onclick="clearInstrument('kuro')">è§£é™¤</button>
    </td>
  </tr>
  <tr>
    <td class="image-container">
        <img src="images/ãƒ¢ãƒ¼ãƒ«ã‚¹.png" alt="ãƒ¢ãƒ¼ãƒ«ã‚¹" width="80" height="80" class="popup-image" data-sound="mors">
        <div class="tooltip">ã€Œãƒ¢ãƒ¼ãƒ«ã‚¹é›»ä¿¡æ©Ÿã€<br>æ´»èºï¼š19ä¸–ç´€å¾ŒåŠï½20ä¸–ç´€åˆé ­<br>ã€ãƒˆãƒ³ã€ãƒ»ã€ãƒ„ãƒ¼ã€ã§æ§‹æˆã•ã‚ŒãŸ<br>ãƒ¢ãƒ¼ãƒ«ã‚¹ç¬¦å·ã‚’ä½¿ã£ã¦é›»æ°—ä¿¡å·ã§<br>é€å—ä¿¡ã™ã‚‹é€šä¿¡æ©Ÿå™¨</div>
    </td>
    <!--<td><img src="ãƒ¢ãƒ¼ãƒ«ã‚¹.png" width="80" height="80" alt="ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·æ©Ÿ"></td>
  -->
    <td colspan="8">
      <input type="checkbox" id="mors0">
      <input type="checkbox" id="mors1">
      <input type="checkbox" id="mors2">
      <input type="checkbox" id="mors3">
      <input type="checkbox" id="mors4">
      <input type="checkbox" id="mors5">
      <input type="checkbox" id="mors6">
      <input type="checkbox" id="mors7">
    </td>
    <td>
      <button onclick="clearInstrument('mors')">è§£é™¤</button>
    </td>
  </tr>
  <tr>
    <td class="image-container">
        <img src="images/è“„éŸ³æ©Ÿ.png" alt="è“„éŸ³æ©Ÿ" width="80" height="80" class="popup-image" data-sound="tiku">
        <div class="tooltip">ã€Œè“„éŸ³æ©Ÿã€<br>æ´»èºï¼š20ä¸–ç´€åˆé ­<br>é›»æ°—ã‚’ä½¿ã‚ãšã«éŸ³å£°ã‚’<br>éŒ²éŸ³ãƒ»å†ç”Ÿã™ã‚‹æ©Ÿæ¢°</div>
    </td>
    <!--<td><img src="è“„éŸ³æ©Ÿ.png" width="80" height="80" alt="è“„éŸ³æ©Ÿ"></td>
  -->
    <td colspan="8">
      <input type="checkbox" id="tiku0">
      <input type="checkbox" id="tiku1">
      <input type="checkbox" id="tiku2">
      <input type="checkbox" id="tiku3">
      <input type="checkbox" id="tiku4">
      <input type="checkbox" id="tiku5">
      <input type="checkbox" id="tiku6">
      <input type="checkbox" id="tiku7">
    </td>
    <td>
      <button onclick="clearInstrument('tiku')">è§£é™¤</button>
    </td>
  </tr>

  <tr>
    <td class="image-container">
        <img src="images/ãƒ•ã‚¡ãƒŸã‚³ãƒ³.png" alt="ãƒ•ã‚¡ãƒŸã‚³ãƒ³" width="80" height="80" class="popup-image" data-sound="fami">
        <div class="tooltip">ã€Œãƒ•ã‚¡ãƒŸã‚³ãƒ³ã€<br>æ´»èºï¼š1980å¹´ä»£<br>ä»»å¤©å ‚ãŒ1983å¹´ã«ç™ºå£²ã—ãŸ<br>å®¶åº­ç”¨ã‚²ãƒ¼ãƒ æ©Ÿã€‚é€šç§°ãƒ•ã‚¡ãƒŸã‚³ãƒ³</div>
    </td>
    <!--<td><img src="ãƒ•ã‚¡ãƒŸã‚³ãƒ³.png" width="80" height="80" alt="ãƒ•ã‚¡ãƒŸã‚³ãƒ³"></td>
  -->
    <td colspan="8">
      <input type="checkbox" id="fami0">
      <input type="checkbox" id="fami1">
      <input type="checkbox" id="fami2">
      <input type="checkbox" id="fami3">
      <input type="checkbox" id="fami4">
      <input type="checkbox" id="fami5">
      <input type="checkbox" id="fami6">
      <input type="checkbox" id="fami7">
    </td>
    <td>
      <button onclick="clearInstrument('fami')">è§£é™¤</button>
    </td>
  </tr>

  <tr>
    <td colspan="10" style="text-align: center;">
      <button onclick="clearAll()">ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã‚’è§£é™¤</button>
    </td>
  </tr>

</table>

<button onclick="start()">â–¶ å†ç”Ÿ</button>
<button onclick="stop()">â¹ åœæ­¢</button>






<!--<h2 style="text-align:center">ğŸ¹ ãƒ”ã‚¢ãƒã§ãƒ¡ãƒ­ãƒ‡ã‚£ãƒ¼ãƒ©ã‚¤ãƒ³ã‚’ä½œã£ã¦ã¿ã‚ˆã†ï¼</h2>-->
  <div class="keyboard-wrapper">
    <div class="keyboard" id="keyboard">
      <!-- JavaScriptã§ç™½éµãƒ»é»’éµã‚’ç”Ÿæˆã—ã¦ã“ã“ã«è¿½åŠ  -->
    </div>
  </div>







<script>

//èª¬æ˜æ–‡
document.querySelectorAll('.popup-image').forEach(img => {
  let timeoutId = null;

  img.addEventListener('click', function () {
    const tooltip = this.nextElementSibling;
    const soundKey = this.dataset.sound;

    // éŸ³ã‚’å†ç”Ÿ
    if (soundKey && sounds[soundKey]) {
      const sound = new Audio(sounds[soundKey].src);
      sound.play();
    }

    // ã™ã§ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°æ‰‹å‹•ã§æ¶ˆã™ï¼ˆtoggleã¨ã—ã¦å‹•ä½œï¼‰
    if (tooltip.classList.contains('show')) {
      tooltip.classList.remove('show');
      clearTimeout(timeoutId);
    } else {
      // è¡¨ç¤ºã—ã¦ã€10ç§’å¾Œã«è‡ªå‹•ã§éè¡¨ç¤º
      tooltip.classList.add('show');

      // å‰ã®ã‚¿ã‚¤ãƒãƒ¼ã‚’ã‚¯ãƒªã‚¢ã—ã¦æ–°ã—ãã‚»ãƒƒãƒˆ
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => {
        tooltip.classList.remove('show');
      }, 10000); // 10ç§’ï¼ˆ10000ãƒŸãƒªç§’ï¼‰
    }
  });
});



//document.getElementById("typewriter").addEventListener("click", function() {
//  let desc = document.getElementById("description");
//  desc.style.display = (desc.style.display === "none") ? "block" : "none";
//});


  const sounds = {
    taip: new Audio("sounds/ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼.mp3"),
    kuro: new Audio("sounds/é»’é›»è©±.mp3"),
    mors: new Audio("sounds/ãƒ¢ãƒ¼ãƒ«ã‚¹.mp3"),
    tiku: new Audio("sounds/è“„éŸ³æ©Ÿ.mp3"),
    fami: new Audio("sounds/ãƒ•ã‚¡ãƒŸã‚³ãƒ³.mp3")
  };

  let currentStep = 0;
  let intervalId = null;
  const totalSteps = 8;
  const bpm = 120;
  const stepDuration = 60000 / bpm / 2;

  function playSound(name) {
    // Audioè¦ç´ ã¯åŒæ™‚å†ç”Ÿã§ãã‚‹ã‚ˆã†ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ä½¿
    const sound = new Audio(sounds[name].src);
    sound.play();
  }

  function stepSequencer() {
    const instruments = ["taip", "kuro", "mors", "tiku", "fami"];
    instruments.forEach(instrument => {
      const checkbox = document.getElementById(`${instrument}${currentStep}`);
      if (checkbox.checked) {
        playSound(instrument);
      }
    });
    currentStep = (currentStep + 1) % totalSteps;
  }

  function start() {
    if (intervalId === null) {
      intervalId = setInterval(stepSequencer, stepDuration);
    }
  }

  function stop() {
    clearInterval(intervalId);
    intervalId = null;
    currentStep = 0;
  }

  function clearInstrument(name) {
    for (let i = 0; i < totalSteps; i++) {
      const checkbox = document.getElementById(`${name}${i}`);
      if (checkbox) checkbox.checked = false
    }
  }

  function clearAll() {
    const instruments = ["taip", "kuro", "mors", "tiku", "fami"];
    instruments.forEach(clearInstrument);
  }


  
  const WHITE_KEY_WIDTH = 40;
    const WHITE_KEY_HEIGHT = 200;
    const BLACK_KEY_WIDTH = 24;
    const BLACK_KEY_HEIGHT = 120;

    const keys = [
      { note: "C4",  key: "a", type: "white" },
      { note: "C#4", key: "w", type: "black", offset: 28 },
      { note: "D4",  key: "s", type: "white" },
      { note: "D#4", key: "e", type: "black", offset: 68 },
      { note: "E4",  key: "d", type: "white" },
      { note: "F4",  key: "f", type: "white" },
      { note: "F#4", key: "t", type: "black", offset: 148 },
      { note: "G4",  key: "g", type: "white" },
      { note: "G#4", key: "y", type: "black", offset: 188 },
      { note: "A4",  key: "h", type: "white" },
      { note: "A#4", key: "u", type: "black", offset: 228 },
      { note: "B4",  key: "j", type: "white" },
      { note: "C5",  key: "k", type: "white" },
      { note: "C#5", key: "o", type: "black", offset: 308},
      { note: "D5",  key: "l", type: "white" },
      { note: "D#5", key: "p", type: "black", offset: 348},
      { note: "E5",  key: ";", type: "white" }
    ];

    const keyboard = document.getElementById('keyboard');

    let whiteIndex = 0;
    keys.forEach(k => {
      const keyDiv = document.createElement('div');
      keyDiv.classList.add(k.type + '-key');
      keyDiv.dataset.note = k.note;
      keyDiv.dataset.key = k.key;

      if (k.type === 'white') {
        keyDiv.style.left = (whiteIndex * WHITE_KEY_WIDTH) + 'px';
        whiteIndex++;
      } else {
        keyDiv.style.left = k.offset + 'px';
      }

      const label = document.createElement('div');
      label.className = 'key-label';
      label.innerText = k.key;
      keyDiv.appendChild(label);

      keyDiv.addEventListener('mousedown', () => pressKey(keyDiv));
      keyDiv.addEventListener('mouseup', () => releaseKey(keyDiv));
      keyboard.appendChild(keyDiv);
    });

    function pressKey(elem) {
      elem.classList.add('pressed');
      // ã“ã“ã§éŸ³ã‚’å†ç”Ÿã™ã‚‹å‡¦ç†ã‚’è¿½åŠ 
      const note = elem.dataset.note;
      const audio = new Audio(`sounds/${encodeURIComponent(note)}.mp3`);
      audio.play();
    }

    function releaseKey(elem) {
      elem.classList.remove('pressed');
    }

    // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å¯¾å¿œ
    document.addEventListener('keydown', (e) => {
      const key = document.querySelector(`[data-key="${e.key}"]`);
      if (key) pressKey(key);
    });

    document.addEventListener('keyup', (e) => {
      const key = document.querySelector(`[data-key="${e.key}"]`);
      if (key) releaseKey(key);
    });



</script>

</body>
</html>
